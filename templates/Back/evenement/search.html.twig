{% extends 'baseBack.html.twig' %}

{% block title %}Evenement index{% endblock %}

{% block body %}
<div class="main-panel">
    <div class="content-wrapper">
        <div class="page-header">
            <h3 class="page-title"> Form events </h3>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Events management</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Form events</li>
                </ol>
            </nav>
        </div>
        <div class="row ">
            <div class="col-12 grid-margin">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Event list</h4>
                        <div class="container">
                            <div class="row">
                                <div class="col-md-9"></div>
                                <form method="post">
                                    <input type="text" name="NameEvent">
                                    <input type="submit" name="recherche">
                                </form>
                                <div class="badge badge-outline-success"><a  href="{{ path('sort')}}">Sort</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>IdEvent</th>
                                <th>Event name</th>
                                <th>Event place</th>
                                <th>Event date</th>
                                <th>Event price</th>
                                <th>Participants</th>
                                <th>actions</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for evenement in evenements %}
                                <tr>
                                    <td>{{ evenement.id }}</td>
                                    <td>{{ evenement.NameEvent }}</td>
                                    <td>{{ evenement.PlaceEvent }}</td>
                                    <td>{{ evenement.DateEvent ? evenement.DateEvent|date('Y-m-d , h:m') : '' }}</td>
                                    <td>{{ evenement.PriceEvent }} DT</td>
                                    <td>{{ evenement.NbParticipants }}</td>
                                    <td><div class="badge badge-outline-success"><a  href="{{ path('evenement_show', {'id': evenement.id}) }}">show</a></div></td>
                                    <td><div class="badge badge-outline-warning"><a href="{{ path('evenement_edit', {'id': evenement.id}) }}">edit</a></div> </td>
                                    <td><div class="badge badge-outline-danger"><a href="{{ path('evenement_delete', {'id': evenement.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">delete</a></div></td>
                                </tr>
                            {% else %}
                                <td colspan="7">no records found</td>
                            {% endfor %}

                            </tbody>

                        </table>
                        <div>
                            <div align="left" class="badge badge-outline-warning"> <a href="{{ path('evenement_new') }}">Create new</a></div>
                            <div align="left" class="badge badge-outline-success"> <a href="{{ path('evenement_pdf') }}">Generate PDF</a></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    {% endblock %}
